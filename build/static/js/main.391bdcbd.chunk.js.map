{"version":3,"sources":["services/contacts.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","delete","id","put","Filter","newSearch","handleFilter","value","onChange","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","type","Persons","namesToShow","handleDelete","map","person","key","name","e","number","Notification","notificationMsg","setNotificationMsg","setTimeout","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","useEffect","contactService","filter","toLowerCase","includes","event","target","console","log","length","preventDefault","newPerson","window","confirm","original","find","p","returnedPerson","catch","error","alert","n","concat","returnedContact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.391bdcbd.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = newObject => {\r\n    const request = axios.delete(baseUrl + `/${newObject.id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create,\r\n  del : del, \r\n  update: update, \r\n}","import React from 'react'\r\n\r\nconst Filter = ({newSearch, handleFilter}) => {\r\n\r\n    return(\r\n        <form>\r\n        <div>filter shown with: <input value = {newSearch}\r\n                                  onChange = {handleFilter}/>\r\n        </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({newName, newNumber, handleNameChange, handleNumberChange, addPerson}) => {\r\n    return(\r\n    <form onSubmit = {addPerson}>\r\n    <div>\r\n        name: <input value = {newName}\r\n                onChange = {handleNameChange}/>\r\n    </div>\r\n    <div>\r\n        number: <input value = {newNumber}\r\n                onChange = {handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n        <button type=\"submit\">add</button>\r\n    </div>\r\n    </form>)\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Persons = ({namesToShow, handleDelete}) => {\r\n    \r\n    return (\r\n        <div>\r\n            {namesToShow.map(person => <form key = {person.name} onSubmit = {(e) => handleDelete(e, person)}>{person.name} {person.number}\r\n            <button type = \"submit\" > delete </button></form>)}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst Notification = ({ notificationMsg, setNotificationMsg }) => {\r\n  const notifStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 5,\r\n    marginBottom: 10\r\n  }\r\n  \r\n  if( notificationMsg === ''){\r\n    return (<div></div>)\r\n  }else{\r\n    {setTimeout(() => {setNotificationMsg('')}, 3000)}\r\n    return (\r\n      <div style={notifStyle}>\r\n        {notificationMsg}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n};\r\n\r\nexport default Notification;","import React, { useState, useEffect } from 'react'\r\n\r\nimport contactService from './services/contacts'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notifcation from './components/Notification'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newSearch, setSearch] = useState('')\r\n  const [ notificationMsg, setNotificationMsg ] = useState('') \r\n\r\n  useEffect(()=> {\r\n    contactService.getAll()\r\n    .then(response => {\r\n      setPersons(response)\r\n    })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    const compare = persons.map(person => {return person.name === newName})\r\n\r\n    if(compare.includes(true)){\r\n      // window.alert(`${newName} is already added to phonebook`)\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        const original = persons.find(p => p.name === newName)\r\n        console.log('original', original, original.id)\r\n        contactService\r\n          .update(original.id, newPerson).then(returnedPerson => {\r\n            setNotificationMsg(`Updated ${original.name} in the phonebook`)\r\n            setPersons(persons.map(person => person.id !== original.id ? person : returnedPerson))\r\n          }).catch(error => {\r\n            alert(\r\n              `the person '${original.name}' was already deleted from server`\r\n            )\r\n            setPersons(persons.filter(n => n.id !== original.id))\r\n          })\r\n      }\r\n    }else{\r\n      \r\n      contactService\r\n        .create(newPerson)\r\n        .then(response => {\r\n        setNotificationMsg(`Added ${newName} to the phonebook`)\r\n        setPersons(persons.concat(response))\r\n        })\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n    \r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    setSearch(event.target.value)\r\n    console.log(event.target.value.length)\r\n  }\r\n\r\n  const namesToShow = persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\r\n\r\n  const deletePerson = (event, person) => {\r\n    event.preventDefault()\r\n    if(window.confirm(`Delete ${person.name}?`)){\r\n      contactService\r\n      .del(person)\r\n      .then(returnedContact => {\r\n        setNotificationMsg(`Deleted ${person.name} from the phonebook`)\r\n        setPersons(persons.filter(p => p.id !== person.id))\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notifcation notificationMsg = {notificationMsg} setNotificationMsg = {setNotificationMsg} />\r\n      <Filter newSearch = {newSearch} handleFilter = {handleFilter}/>\r\n\r\n      <h3>Add a new</h3>\r\n\r\n      <PersonForm \r\n        newName = {newName}\r\n        newNumber = {newNumber}\r\n        handleNameChange = {handleNameChange}\r\n        handleNumberChange = {handleNumberChange}\r\n        addPerson = {addPerson}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n\r\n      <Persons  namesToShow = {namesToShow} handleDelete = {deletePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}