{"version":3,"sources":["services/contacts.js","components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","delete","id","put","Filter","newSearch","handleFilter","value","onChange","PersonForm","newName","newNumber","handleNameChange","handleNumberChange","addPerson","onSubmit","type","Persons","namesToShow","handleDelete","map","person","key","name","e","number","Notification","notificationMsg","setNotificationMsg","setTimeout","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","errorMsg","setErrorMsg","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","useEffect","contactService","filter","toLowerCase","includes","event","target","console","log","length","preventDefault","newPerson","window","confirm","original","find","p","returnedPerson","catch","error","message","concat","returnedContact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.83e691e5.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst del = newObject => {\r\n    const request = axios.delete(baseUrl + `/${newObject.id}`)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create,\r\n  del : del, \r\n  update: update, \r\n}","import React from 'react'\r\n\r\nconst Filter = ({newSearch, handleFilter}) => {\r\n\r\n    return(\r\n        <form>\r\n        <div>filter shown with: <input value = {newSearch}\r\n                                  onChange = {handleFilter}/>\r\n        </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({newName, newNumber, handleNameChange, handleNumberChange, addPerson}) => {\r\n    return(\r\n    <form onSubmit = {addPerson}>\r\n    <div>\r\n        name: <input value = {newName}\r\n                onChange = {handleNameChange}/>\r\n    </div>\r\n    <div>\r\n        number: <input value = {newNumber}\r\n                onChange = {handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n        <button type=\"submit\">add</button>\r\n    </div>\r\n    </form>)\r\n}\r\n\r\nexport default PersonForm","import React from 'react';\r\n\r\nconst Persons = ({namesToShow, handleDelete}) => {\r\n    \r\n    return (\r\n        <div>\r\n            {namesToShow.map(person => <form key = {person.name} onSubmit = {(e) => handleDelete(e, person)}>{person.name} {person.number}\r\n            <button type = \"submit\" > delete </button></form>)}\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Persons;","import React from 'react';\r\n\r\nconst Notification = ({ notificationMsg, setNotificationMsg }) => {\r\n  const notifStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 5,\r\n    marginBottom: 10\r\n  }\r\n  \r\n  if( notificationMsg === ''){\r\n    return (<div></div>)\r\n  }else{\r\n    {setTimeout(() => {setNotificationMsg('')}, 3000)}\r\n    return (\r\n      <div style={notifStyle}>\r\n        {notificationMsg}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n};\r\n\r\nexport default Notification;","import React from 'react';\r\n\r\nconst Error = ({ errorMsg, setErrorMsg }) => {\r\n  const notifStyle = {\r\n    color: 'red',\r\n    background: 'lightgrey',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 5,\r\n    marginBottom: 10\r\n  }\r\n  \r\n  if( errorMsg === ''){\r\n    return (<div></div>)\r\n  }else{\r\n    {setTimeout(() => {setErrorMsg('')}, 3000)}\r\n    return (\r\n      <div style={notifStyle}>\r\n        {errorMsg}\r\n      </div>\r\n    );\r\n  }\r\n  \r\n};\r\n\r\nexport default Error;","import React, { useState, useEffect } from 'react'\r\n\r\nimport contactService from './services/contacts'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notifcation from './components/Notification'\r\nimport Error from './components/Error'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newSearch, setSearch] = useState('')\r\n  const [ notificationMsg, setNotificationMsg ] = useState('') \r\n  const [ errorMsg, setErrorMsg ] = useState('') \r\n\r\n  useEffect(()=> {\r\n    contactService.getAll()\r\n    .then(response => {\r\n      setPersons(response)\r\n    })\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    const compare = persons.map(person => {return person.name === newName})\r\n\r\n    if(compare.includes(true)){\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)){\r\n        const original = persons.find(p => p.name === newName)\r\n        newPerson.id = original.id\r\n        console.log('original', newPerson, original.id)\r\n        contactService\r\n          .update(original.id, newPerson).then(returnedPerson => {\r\n            console.log(returnedPerson)\r\n            setNotificationMsg(`Updated ${original.name} in the phonebook`)\r\n            setPersons(persons.map(person => person.id !== original.id ? person : newPerson))\r\n          }).catch(error => {\r\n            setErrorMsg(error.response.data.message)\r\n          })\r\n      }\r\n    }else{\r\n      console.log('create2')\r\n      contactService\r\n        .create(newPerson)\r\n        .then(response => {\r\n          console.log('response2')\r\n          setNotificationMsg(`Added ${newName} to the phonebook`)\r\n          setPersons(persons.concat(response))\r\n        })\r\n        .catch(error => {\r\n          console.log('catch2', error.response.data)\r\n          setErrorMsg(error.response.data.message)\r\n        })\r\n\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n    \r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilter = (event) => {\r\n    setSearch(event.target.value)\r\n    console.log(event.target.value.length)\r\n  }\r\n\r\n  const namesToShow = persons.filter(person => person.name.toLowerCase().includes(newSearch.toLowerCase()))\r\n\r\n  const deletePerson = (event, person) => {\r\n    event.preventDefault()\r\n    if(window.confirm(`Delete ${person.name}?`)){\r\n      contactService\r\n      .del(person)\r\n      .then(returnedContact => {\r\n        setNotificationMsg(`Deleted ${person.name} from the phonebook`)\r\n        setPersons(persons.filter(p => p.id !== person.id))\r\n      })\r\n      .catch(error => {\r\n        setErrorMsg(error.response.data.message)\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Error errorMsg = {errorMsg} setErrorMsg = {setErrorMsg} />\r\n      <Notifcation notificationMsg = {notificationMsg} setNotificationMsg = {setNotificationMsg} />\r\n      <Filter newSearch = {newSearch} handleFilter = {handleFilter}/>\r\n\r\n      <h3>Add a new</h3>\r\n\r\n      <PersonForm \r\n        newName = {newName}\r\n        newNumber = {newNumber}\r\n        handleNameChange = {handleNameChange}\r\n        handleNumberChange = {handleNumberChange}\r\n        addPerson = {addPerson}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n\r\n      <Persons  namesToShow = {namesToShow} handleDelete = {deletePerson}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}